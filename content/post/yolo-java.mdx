---
title: "YOLOv9 inference with OpenCV and Java"
slug: "yolo-java"
date: "2024-04-05"
tags: ["java", "opencv", "yolo", "python"]
---

# YOLOv9 inference with OpenCV and Java

<Image
  placeholder="blur"
  blurDataURL="data:image/webp;base64,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LxC431NQEytzfU1ATZCY+jTH7cFcHPRi/W3x5jqCyAYv1nmOn6boCZW5vqagJlbm+pqAmVub6moCZW5xwMPZAKrkzzHUFkAxfrb5UfS7b/c31NQEytzfU1ATK3N9TUBMrc31NPMOx0LfV9bNs28dqaDNZ+c32+pqAmVub6moCZW5vqagJlbm+pqAmVtrqUFf8yYVPqJDQ/VWxLIEytzfU1ATK3N9TUBMrc31NQEytzfU1ATYwQV/xtutxksy8QuN9TUBMrc31NQEytzfU1ATK3N9TUDOO0XBuOsy8QuN9TUBMrc31NQEytzfU1ATK3N9TUBMrfGyV4hcb6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pqAmVub6moCYQ/wHW5vqagJlbm+pqAmVub6moCZW5vqagJlbm+pp//D9ggD3RuzbLRwXYCFxvqagJlbm+pqAmVub6moCZW5vqagJlbm46+S9sdQMIDeAcbaEWHr9zfU1ATK3N9TUBMrc31NQEytzfU1ATK211GzMdpfN8eY6gsgJasldAH1mXiFxvqagJlbm+pqAmVub6moCZW5uOsXJZToIq/HOL1O4+fyag4N0BMrc31NQEytzfU1ATK3N9TUBMrcvms9op2O+SEhkRaXIR1u0K6AmVub6moCZW5vqagJlbm+pqAmVtrsQXb/hc0SJHdNf/5rYsB9k1ATK3N9TUBMrc31NQEytzfU1ATC1mNZn2AlmUvt1wH8qFO85zSlC431NQEy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"
  alt="Image of author"
  src={"/images/bike.png"}
  width={0}
  height={0}
  sizes="100vw"
  style={{ width: "1000px", height: "auto", objectFit: "cover" }}
/>

YOLO (You Only Look Once) is one of the most famous object detection system.
It achieves very high speed and accuracy and is one of the easiest ways to get into object detection in my opinion.
The documentation is absolutely perfect, everything is very well explained with lots of examples. It also has a big community of researchers, developers and enthusiast who share various improvements and contribute to the project.

I started playing around with Version 8 (YOLOv8) through python. The integration is so smooth and I was really impressed how fast one can start experimenting with object detection. Inference can be done literally in 4 lines of code:

```python
from ultralytics import YOLO
# Load the YOLOv9 model
model = YOLO('yolov9c.pt')
# Run predictions
results = model.predict('/path/to/image.jpg')
# Display results
results[0].show()
```

As a Java developer I wanted to also immediately try this in a simple java project, but the process there wasn't that straightforward.
Especially understanding the post-processing of the outputs of the inference cost me a lot of time, so I thought it's worth sharing with people who maybe also struggle with this.

So in order to start we need a simple java gradle or maven project and add the OpenCV dependency in _build.gradle_:

```gradle
plugins {
    id 'application'
}

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
}

dependencies {
    implementation 'org.openpnp:opencv:4.9.0-0'
    ...
```

Here also the maven dependency to add in your pom.xml if you use maven:

```xml
<dependency>
    <groupId>org.openpnp</groupId>
    <artifactId>opencv</artifactId>
    <version>4.9.0-0</version>
</dependency>
```

### References

1. https://docs.ultralytics.com/models/yolov9
2.
